# カウントダウンタイマーアプリケーション仕様書

## 1. 概要

カウントダウンタイマーアプリケーションは、ユーザーが指定した時間から0になるまでカウントダウンを行うシンプルなタイマーアプリケーションです。複数のタイマーの同時管理、カスタマイズ可能な通知機能、および直感的なユーザーインターフェースを備えています。

## 2. 対象ユーザー

- 時間管理が必要な一般ユーザー
- 学生（勉強時間の管理）
- 料理をする人（調理時間の管理）
- フィットネス愛好家（トレーニング時間の管理）
- 仕事中に集中力を維持する必要がある専門家

## 3. 機能要件

### 3.1 基本的なタイマー機能

| 要件 ID | 要件内容 | 詳細 |
|--------|--------|------|
| F1.1 | タイマー時間の設定 | ユーザーは時間、分、秒を個別に設定可能 |
| F1.2 | タイマー開始 | 「開始」ボタンでカウントダウンを開始 |
| F1.3 | タイマー一時停止 | 「一時停止」ボタンで進行を一時停止 |
| F1.4 | タイマー再開 | 一時停止中のタイマーを再開可能 |
| F1.5 | タイマーリセット | 「リセット」ボタンで設定値に戻す |
| F1.6 | タイマー終了アラーム | 時間がゼロになるとアラーム音を発生 |

### 3.2 複数タイマー管理

| 要件 ID | 要件内容 | 詳細 |
|--------|--------|------|
| F2.1 | 複数タイマー同時管理 | 最大10個のタイマーを同時に管理可能 |
| F2.2 | タイマー名称設定 | 各タイマーにカスタム名を付与可能（例：「料理」「勉強」） |
| F2.3 | タイマー追加 | 新しいタイマーを追加可能 |
| F2.4 | タイマー削除 | 不要なタイマーを削除可能 |
| F2.5 | タイマー一覧表示 | すべてのアクティブなタイマーをリスト表示 |

### 3.3 ユーザーインターフェース

| 要件 ID | 要件内容 | 詳細 |
|--------|--------|------|
| F3.1 | 残り時間表示 | MM:SS形式（またはHH:MM:SS）で残り時間を表示 |
| F3.2 | プログレスバー表示 | タイマーの進捗を視覚的に表示 |
| F3.3 | タイマー状態表示 | 実行中、一時停止中、完了の状態を明確に表示 |
| F3.4 | レスポンシブデザイン | スマートフォン、タブレット、デスクトップに対応 |
| F3.5 | ダークモード対応 | ダークモードでの表示に対応 |

### 3.4 通知とアラーム機能

| 要件 ID | 要件内容 | 詳細 |
|--------|--------|------|
| F4.1 | アラーム音 | デフォルトのアラーム音を提供 |
| F4.2 | アラーム音選択 | 複数のアラーム音から選択可能 |
| F4.3 | ブラウザ通知 | ブラウザの通知機能を使用したアラート |
| F4.4 | 音量調整 | アラーム音の音量を調整可能 |
| F4.5 | 事前通知 | タイマー終了の30秒前に事前通知を表示 |

### 3.5 データ永続化

| 要件 ID | 要件内容 | 詳細 |
|--------|--------|------|
| F5.1 | タイマーテンプレート保存 | よく使用するタイマー設定をテンプレートとして保存 |
| F5.2 | 設定の保存 | ユーザー設定（テーマ、音量など）をローカルストレージに保存 |
| F5.3 | 履歴管理 | 過去のタイマー使用履歴を記録 |

## 4. 非機能要件

| 要件 ID | 要件内容 | 詳細 |
|--------|--------|------|
| NFR1.1 | レスポンス時間 | ボタン操作から0.3秒以内に反応 |
| NFR1.2 | 精度 | タイマーの誤差を±100ms以内に保つ |
| NFR1.3 | ブラウザ互換性 | Chrome、Firefox、Safari、Edgeの最新2バージョンに対応 |
| NFR1.4 | アクセシビリティ | WCAG 2.1 AA準拠 |
| NFR1.5 | パフォーマンス | 複数タイマー実行時でもCPU使用率が10%以下 |
| NFR1.6 | セキュリティ | タイマーデータの暗号化保存 |

## 5. ユーザーストーリー

### ストーリー1：シンプルな料理タイマー
**ユーザーペルソナ：** 忙しい家庭の人

料理中のパスタを茹でている時間（10分）を管理したい。
- タイマーを10分に設定して開始
- 音声でアラートを受ける
- 他のことをしながらブラウザ通知で通知される

### ストーリー2：複数タスク同時管理
**ユーザーペルソナ：** 複数の料理を同時進行

複数の調理工程を同時にタイマーで管理したい。
- タイマーAを15分で「米を炊く」として設定
- タイマーBを5分で「野菜を炒める」として設定
- 各タイマーが独立して動作し、それぞれ完了時にアラート

### ストーリー3：学習セッション管理
**ユーザーペルソナ：** 学生

ポモドーロ・テクニックを使用して勉強時間を管理したい。
- 25分の集中時間タイマーを開始
- 一時停止・再開機能を使用して柔軟に対応
- よく使うテンプレート（25分、5分）を保存

## 6. 画面イメージ

### メイン画面
```
┌─────────────────────────────────┐
│  カウントダウンタイマー          │
├─────────────────────────────────┤
│                                 │
│        残り時間                  │
│        15:32                     │
│        [━━━━━━━━━━━░░]          │
│        タイマー: 料理             │
│                                 │
│  [開始] [一時停止] [リセット]    │
│                                 │
├─────────────────────────────────┤
│  + 新しいタイマーを追加          │
│                                 │
│  勉強 - 25:00 - [開始]           │
│  運動 - 5:30 - [一時停止]        │
│  家事 - 0:45 - [開始]            │
│                                 │
└─────────────────────────────────┘
```

## 7. 技術スタック（推奨）

- **フロントエンド：** HTML5、CSS3、JavaScript/TypeScript
- **フレームワーク：** React、Vue.js、またはVanilla JS
- **状態管理：** Redux、Vuex、または Context API
- **ストレージ：** LocalStorage、IndexedDB
- **ビルドツール：** Webpack、Vite
- **テスト：** Jest、Vitest、Cypress

## 8. 実装フェーズ

### Phase 1（MVP：最小機能版）
- 単一タイマーの設定・開始・停止・リセット
- 基本的なUI
- シンプルなアラーム音
- LocalStorage への設定保存

### Phase 2（拡張機能）
- 複数タイマー同時管理
- タイマー名称設定
- 複数のアラーム音選択
- 事前通知機能

### Phase 3（高度な機能）
- タイマーテンプレート
- ダークモード
- 履歴管理
- ブラウザ通知

## 9. 成功基準

- [ ] ユーザーが2分以内にタイマーを設定・実行できる
- [ ] アラーム音が正確に時間に反応する
- [ ] 複数タイマーが独立して動作
- [ ] UIが直感的で使いやすい
- [ ] レスポンシブデザインでスマートフォンでも快適に使用可能
- [ ] ページを再度読み込んでもタイマーの設定値が保持される

## 10. 制約事項

- オフライン利用を想定（インターネット接続不要）
- データの外部サーバーへの送信なし
- ローカルストレージのみでデータ保持
- PWA化は将来の検討項目

## 11. 今後の改善検討項目

- [ ] 音声コマンド対応
- [ ] スマートウォッチ連携
- [ ] クラウド同期機能
- [ ] カスタムアラーム音のアップロード
- [ ] タイマー統計分析
- [ ] マルチプレイヤー機能（共有タイマー）
